# MODULE 1 — GenAI Basics (Core Mindset)

## 29. Model Versions (Why Behavior Changes Without Warning)

This topic explains **why the same model name can behave differently over time**
and **how professionals avoid silent breakage**.

After this:

* sudden output changes make sense
* “model regression” stops being confusing
* version pinning becomes obvious
* production safety becomes concrete

---

## 1. Concept (Precise Definition)

A **model version** is:

> **A specific, fixed snapshot of a model’s weights, training data, alignment, and serving configuration.**

Important distinction:

```
Model name ≠ model version
```

Model names are **labels**.
Versions are **actual implementations**.

---

## 2. Why Models Have Versions at All

Models are not static.

Providers continuously update them to:

1. Improve quality
2. Reduce hallucinations
3. Fix safety issues
4. Optimize speed
5. Reduce cost
6. Patch vulnerabilities

Every update can subtly (or drastically) change behavior.

---

## 3. What Can Change Between Versions

Even if the model name looks the same, versions may differ in:

1. Instruction-following strictness
2. Safety filtering
3. Reasoning depth
4. Tokenization behavior
5. Sampling defaults
6. Refusal patterns
7. Edge-case handling

This is why people say:

> “The model worked yesterday, today it feels different.”

They are usually correct.

---

## 4. Groq Model IDs and Version Stability

Groq exposes **explicit model IDs**, for example:

```
llama-3.1-8b-instant
llama-3.3-70b-versatile
openai/gpt-oss-120b
```

These IDs are **more stable** than vague aliases like “latest”.

However, even stable IDs can receive:

* backend optimizations
* safety tuning
* infrastructure changes

So behavior can still drift slightly.

---

## 5. The Real Risk: Silent Behavior Change

The dangerous part is not change itself.

The danger is:

```
Change without visibility
```

Examples of silent breakage:

1. JSON output suddenly becomes invalid
2. Agent tool selection changes
3. RAG answers become less grounded
4. Safety refusals increase
5. Latency spikes unexpectedly

No code change on your side.
Only model-side evolution.

---

## 6. Why Tutorials Don’t Talk About This

Tutorials assume:

* single-user
* short lifespan
* no guarantees
* manual observation

Production systems require:

* predictability
* repeatability
* monitoring
* rollback

That’s why **model versions matter only when you build real systems**.

You are already at that level.

---

## 7. JavaScript Practice — Same Prompt, Different Time

You cannot force a version change manually, but you can **detect drift**.

```js
import groq from "../../../src/utils/groqClient.js";

async function run() {
  const prompt = "Return a JSON object with keys a and b only.";

  const res = await groq.chat.completions.create({
    model: "llama-3.1-8b-instant",
    temperature: 0,
    messages: [{ role: "user", content: prompt }],
  });

  console.log(res.choices[0].message.content);
}

await run();
```

If you run this:

* today
* next month
* after a provider update

and outputs differ → **model behavior drift** occurred.

---

## 8. Version Pinning (Production Rule)

In production, you must:

1. Choose a model ID intentionally
2. Avoid “latest” aliases
3. Track when behavior changes
4. Test prompts regularly

Even when versions are abstracted, **you pin behavior via tests**.

---

## 9. Prompt Regression Testing (Core Safety Technique)

Professionals treat prompts like code.

They write tests such as:

```
Given prompt X
Expect output to satisfy conditions Y
```

If a model update breaks tests:

* investigate
* adjust prompt
* switch model
* roll back behavior

This is covered deeply in **Module 11 (Evaluation)**.

---

## 10. Why Agents Are Most Sensitive to Version Changes

Agents depend on:

* consistent reasoning
* stable formatting
* predictable decisions
* reliable tool calls

A small model change can cause:

* infinite loops
* wrong tool usage
* unsafe decisions

This is why agents are usually:

* temperature-controlled
* model-restricted
* heavily tested

---

## 11. Mental Rule to Memorize

> **Models evolve.
> Your system must assume they will.**

Never assume stability unless you enforce it.


---

## 13. One-Line Truth (Lock It)

> **When a model changes, your code didn’t break —
> your assumptions did.**

