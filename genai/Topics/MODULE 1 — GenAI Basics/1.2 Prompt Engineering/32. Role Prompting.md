
# MODULE 1.2 — Prompt Engineering

## 32. Role Prompting

Role prompting is where **prompt engineering becomes control engineering**.

If instruction prompting answers **what to do**,
role prompting defines **who the model is while doing it**.

After this topic:

* outputs become more consistent
* tone becomes predictable
* agents feel stable
* prompt injection becomes understandable

---

## 1. Concept (Precise Definition)

**Role prompting** means:

> **Assigning the model a specific identity, responsibility, or perspective so it generates responses consistent with that role.**

You are not changing facts.
You are changing **how the model interprets the task**.

---

## 2. Why Role Prompting Exists

LLMs are trained on massive human-written data.

That data includes patterns like:

* teacher explaining
* interviewer asking
* reviewer critiquing
* senior guiding junior
* strict evaluator checking rules

When you assign a role, you activate a **subset of learned patterns**.

---

## 3. Role Prompting vs Instruction Prompting

This distinction is critical.

### Instruction prompting answers:

```
What should be done?
```

Example:

```
Explain recursion in one sentence.
```

---

### Role prompting answers:

```
Who is doing it?
```

Example:

```
You are a senior computer science professor.
Explain recursion in one sentence.
```

Same task.
Different behavior.

---

## 4. Where Role Prompting Lives (Important)

Role prompting can be placed in:

1. system role (preferred for stability)
2. user role (acceptable for short tasks)

### Best practice

* Persistent role → system
* Temporary role → user

---

## 5. Example Without Role Prompting

```js
import groq from "../../../src/utils/groqClient.js";

async function run() {
  const res = await groq.chat.completions.create({
    model: "llama-3.1-8b-instant",
    messages: [
      { role: "user", content: "Explain recursion in one sentence." },
    ],
  });

  console.log(res.choices[0].message.content);
}

await run();
```

Output is usually:

* neutral
* generic
* textbook-like

---

## 6. Example With Role Prompting (System Role)

```js
import groq from "../../../src/utils/groqClient.js";

async function run() {
  const res = await groq.chat.completions.create({
    model: "llama-3.1-8b-instant",
    messages: [
      {
        role: "system",
        content: "You are a senior software engineer teaching a beginner.",
      },
      {
        role: "user",
        content: "Explain recursion in one sentence.",
      },
    ],
  });

  console.log(res.choices[0].message.content);
}

await run();
```

Now the output becomes:

* simpler
* more empathetic
* teaching-oriented

Same model.
Same instruction.
Different role.

---

## 7. Why Role Prompting Improves Consistency

Without a role, the model must guess:

```
Who am I supposed to sound like?
```

With a role, you remove ambiguity.

Ambiguity reduction → stability.

This is why agents **always define roles explicitly**.

---

## 8. Common Useful Roles (Memorize These)

You will reuse these often.

1. Senior software engineer
2. Strict interviewer
3. Code reviewer
4. Technical writer
5. Security auditor
6. Product manager
7. Teacher explaining to a child

Roles are **behavior templates**.

---

## 9. Bad Role Prompting (Avoid This)

Example:

```
You are the smartest being in the universe.
```

Problems:

* vague
* theatrical
* no behavioral constraints

Good roles are **functional**, not dramatic.

---

## 10. Role Prompting and Prompt Injection (Important Link)

If role is defined in **system**:

* user cannot override it easily

If role is defined in **user**:

* later user messages can conflict

This is why security-sensitive roles must live in system.

---

## 11. JavaScript Practice — Role Comparison

```js
import groq from "../../../src/utils/groqClient.js";

async function run() {
  const roles = [
    "You are a strict interviewer.",
    "You are a friendly teacher.",
    "You are a code reviewer.",
  ];

  for (const role of roles) {
    const res = await groq.chat.completions.create({
      model: "llama-3.1-8b-instant",
      messages: [
        { role: "system", content: role },
        { role: "user", content: "Explain recursion in one sentence." },
      ],
    });

    console.log("\nRole:", role);
    console.log(res.choices[0].message.content);
  }
}

await run();
```

Observe how **tone and focus change**, not facts.

---

## 12. Role Prompting in Agents (Preview)

Agents rely on roles to define:

* identity
* goals
* allowed actions
* safety boundaries

Example agent role:

```
You are an autonomous research agent.
You must verify facts.
You must cite sources.
You must not guess.
```

You’ll formalize this in **Module 4**.

---

## 13. Common Beginner Mistakes

1. Mixing role and task in one sentence
2. Writing vague or emotional roles
3. Changing roles mid-conversation
4. Forgetting role is part of context window

Consistency matters more than creativity.

---

## 14. Where This Fits in the Roadmap

```
MODULE 1.2 — Prompt Engineering
31. Instruction prompting     Completed
32. Role prompting            You are here
33. Chain-of-thought          Next
```

Instruction tells the model **what to do**.
Role tells the model **how to behave**.

Both are required.

---

## 15. One-Line Truth (Lock It)

> **Instructions control the task.
> Roles control the behavior.**

---
