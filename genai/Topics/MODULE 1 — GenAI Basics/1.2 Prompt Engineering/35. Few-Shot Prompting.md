# MODULE 1.2 — Prompt Engineering

## 35. Few-Shot Prompting

Few-shot prompting is used when **instructions alone are not enough**.

If zero-shot answers “what should I do?”,
few-shot answers **“do it like this.”**

---

## 1. Concept (Precise Definition)

**Few-shot prompting** means:

> **Providing a small number of input–output examples so the model learns the pattern you want to follow.**

You are not teaching facts.
You are teaching **format, style, and decision boundaries**.

---

## 2. Why Few-Shot Prompting Exists

Even instruction-tuned models struggle with:

* strict formats
* custom labels
* edge cases
* consistency across calls

Examples remove ambiguity by showing:

```
input → expected output
```

---

## 3. Zero-Shot vs Few-Shot (Clear Difference)

### Zero-shot

```
Classify the text as POSITIVE or NEGATIVE.
```

Model guesses the boundary.

---

### Few-shot

```
Text: I love this
Label: POSITIVE

Text: This is terrible
Label: NEGATIVE

Text: Not bad
Label:
```

Now the model copies the pattern.

---

## 4. When You MUST Use Few-Shot

Few-shot prompting is recommended when:

1. Output must be machine-readable
2. Labels must be exact
3. Style must be consistent
4. Task is subjective
5. Model keeps “almost” doing it right

Few-shot is about **control**, not intelligence.

---

## 5. Anatomy of a Good Few-Shot Prompt

A good few-shot prompt has:

1. Clear instruction (optional but recommended)
2. 2–5 examples
3. Same structure for every example
4. The final input left unanswered

---

### Example Structure

```
Instruction

Example 1
Example 2
Example 3

New input →
```

Consistency matters more than quantity.

---

## 6. JavaScript Practice — Few-Shot Classifier (Groq)

```js
import groq from "../../../src/utils/groqClient.js";

async function run() {
  const prompt = `
Classify the review as POSITIVE or NEGATIVE.

Review: I love this product
Label: POSITIVE

Review: This is the worst thing I bought
Label: NEGATIVE

Review: It works fine for the price
Label:
`;

  const res = await groq.chat.completions.create({
    model: "llama-3.1-8b-instant",
    temperature: 0,
    messages: [{ role: "user", content: prompt }],
  });

  console.log(res.choices[0].message.content);
}

await run();
```

Observe:

* Output is just the label
* Format is copied
* No explanation appears

That’s few-shot working.

---

## 7. Why Few-Shot Improves Consistency

Few-shot works because:

* the model copies token patterns
* probability mass shifts toward seen formats
* deviations become less likely

This is **pattern anchoring**.

---

## 8. How Many Examples Are Enough?

General rule:

* 1 example → weak
* 2–3 examples → good
* 5 examples → usually enough
* More than 10 → wasteful and expensive

Few-shot improves behavior, but increases token cost.

---

## 9. Few-Shot vs Chain-of-Thought

Do not confuse them.

* Few-shot → shows **what output looks like**
* Chain-of-thought → shows **how to reason**

You can combine them, but be careful:

Few-shot with reasoning examples can **leak reasoning style**.

In production, prefer:

* few-shot for format
* hidden reasoning for correctness

---

## 10. Common Beginner Mistakes

1. Using too many examples
2. Mixing formats across examples
3. Including irrelevant examples
4. Forgetting the final unanswered input
5. Using few-shot when zero-shot was enough

Few-shot is a tool, not a default.

---

## 11. JavaScript Practice — Zero-Shot vs Few-Shot Comparison

```js
import groq from "../../../src/utils/groqClient.js";

async function run() {
  const zeroShot =
    "Classify the text as SPAM or NOT_SPAM. Text: Win money now";

  const fewShot = `
Classify the text as SPAM or NOT_SPAM.

Text: Free prize waiting
Label: SPAM

Text: Meeting at 3 PM
Label: NOT_SPAM

Text: Win money now
Label:
`;

  const zeroRes = await groq.chat.completions.create({
    model: "llama-3.1-8b-instant",
    messages: [{ role: "user", content: zeroShot }],
  });

  const fewRes = await groq.chat.completions.create({
    model: "llama-3.1-8b-instant",
    messages: [{ role: "user", content: fewShot }],
  });

  console.log("Zero-shot:", zeroRes.choices[0].message.content);
  console.log("Few-shot:", fewRes.choices[0].message.content);
}

await run();
```

You’ll usually see **few-shot is cleaner and more reliable**.

---

## 12. Cost and Context Trade-Off (Important)

Few-shot increases:

* input tokens
* cost
* context usage

So always ask:

```
Is this extra reliability worth the cost?
```

In agents and production systems, the answer is often **yes**.

---

## 13. Mental Decision Rule (Memorize)

Use:

* Zero-shot → common, flexible tasks
* Few-shot → strict, repetitive, structured tasks

This rule alone prevents most prompt issues.

---

## 14. Where You Are in the Roadmap

```
MODULE 1.2 — Prompt Engineering
31. Instruction prompting     Completed
32. Role prompting            Completed
33. Chain-of-thought          Completed
34. Zero-shot                 Completed
35. Few-shot                  You are here
36. Safety rewriting          Next
```

---

## 15. One-Line Truth (Lock It)

> **Few-shot prompting doesn’t teach knowledge.
> It teaches patterns.**
