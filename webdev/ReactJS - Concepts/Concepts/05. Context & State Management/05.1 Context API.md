# CONTEXT API

(Solution to Prop Drilling)

Problem → Concept → Folder → Code → How it works → Benefits

---

## 1. Problem Context API Solves

From previous topic (Prop Drilling):

Data had to travel like this:

```
App → Parent → Child → DeepChild
```

Even when Parent and Child did NOT need the data, they were forced to pass it.

This creates:

* Unnecessary prop forwarding
* Tight coupling
* Hard maintenance
* Broken scalability

We need a way to:

> Give data directly to any component without passing through every layer.

This is exactly what Context API does.

---

## 2. What is Context API?

Context API is:

> A built-in React feature that allows sharing data globally across components without prop drilling.

It creates:

* A global data store
* Direct access from any component
* Cleaner architecture

---

## 3. Core Idea

Instead of this:

```
App → A → B → C → D → Target
```

We do this:

```
App provides context → Target consumes context directly
```

No middle component involvement.

---

## 4. Key Parts of Context API

Context API has 3 main parts:

1. createContext() → Creates context
2. Provider → Supplies data
3. useContext() → Consumes data

---

## 5. Folder Structure

```
src/
  context/
    UserContext.jsx
  components/
    Parent.jsx
    Child.jsx
    DeepChild.jsx
  App.jsx
  main.jsx
```

---

## 6. Step-by-Step Implementation

### STEP 1: Create Context

**src/context/UserContext.jsx**

```jsx
import { createContext } from "react";

// Creating a context object
const UserContext = createContext();

export default UserContext;
```

---

### STEP 2: Provide Context Value

**src/App.jsx**

```jsx
import UserContext from "./context/UserContext";
import Parent from "./components/Parent";

function App() {

  const userName = "Tanish";

  return (
    <UserContext.Provider value={userName}>
      <h1>Context API Example</h1>
      <Parent />
    </UserContext.Provider>
  );
}

export default App;
```

Key:

* value is shared globally
* All children can access it

---

### STEP 3: Consume Context in Deep Child

**src/components/DeepChild.jsx**

```jsx
import { useContext } from "react";
import UserContext from "../context/UserContext";

function DeepChild() {

  const userName = useContext(UserContext);

  return (
    <div>
      <h3>Deep Child Component</h3>
      <p>Received User: {userName}</p>
    </div>
  );
}

export default DeepChild;
```

---

### Parent.jsx and Child.jsx

Notice: They NO LONGER pass props.

**Parent.jsx**

```jsx
import Child from "./Child";

function Parent() {
  return (
    <div>
      <h2>Parent Component</h2>
      <Child />
    </div>
  );
}

export default Parent;
```

**Child.jsx**

```jsx
import DeepChild from "./DeepChild";

function Child() {
  return (
    <div>
      <h3>Child Component</h3>
      <DeepChild />
    </div>
  );
}

export default Child;
```

---

## 7. Flow Comparison

### ❌ Prop Drilling Flow

```
App → Parent → Child → DeepChild
```

### ✅ Context API Flow

```
App (Provider)
        ↓
DeepChild (Consumer)
```

---

## 8. How Context Works Internally

1. Provider stores the value
2. React creates global subscription
3. Any component using useContext can access value
4. No intermediates required

---

## 9. Benefits of Context API

| Problem          | Context API Solution |
| ---------------- | -------------------- |
| Prop Drilling    | Removed              |
| Tight coupling   | Loose dependencies   |
| Messy chain      | Flat access          |
| Hard maintenance | Easy refactor        |

---

## 10. When to Use Context API

Use when:

* Data is used in many components
* Global state like:

  * Theme
  * Auth user
  * Language
  * Settings

Do NOT use for:

* Frequently changing heavy state (performance issues)

---

## 11. Real Use Cases

* Authentication system
* Theme switcher
* User preferences
* Global config

---

## 12. Summary

| Concept     | Explanation                         |
| ----------- | ----------------------------------- |
| Context API | Global state sharing                |
| Main Goal   | Remove prop drilling                |
| Tools       | createContext, Provider, useContext |
| Result      | Clean scalable architecture         |

---