# PORTAL

(Problem → Concept → Folder → Code → Explanation → Output)

---

## 1. Problem Without Portals

Normally, React renders everything inside the root element:

```html
<div id="root"></div>
```

But some UI elements **should not be confined inside parent layout**, such as:

* Modals
* Popups
* Tooltips
* Dropdown overlays
* Toast notifications

Problems without Portal:

* CSS overflow issues
* z-index conflicts
* Layout breaking
* Parent styling interference
* Clipped components

Example:
A modal gets hidden because parent has `overflow: hidden`.

---

## 2. Core Concept

React Portal means:

> Rendering a component outside the main DOM hierarchy while keeping it in React tree.

Portal allows UI to appear:

* Outside root container
* At a different DOM location
* Still controlled by React

---

## 3. Real-World Intuition

Think of it like:
You are inside a room (root div)
You want a popup to appear on top of entire building

Portlet = placing UI outside the room while still controlled.

---

## 4. Folder Structure

```
public/
  index.html

src/
  components/
    Modal.jsx
  App.jsx
  main.jsx
```

---

## 5. Setup Portal Target

### Modify public/index.html

Add a portal target div:

```html
<body>
  <div id="root"></div>
  <div id="modal-root"></div>
</body>
```

`modal-root` is where portal UI will render.

---

## 6. Code Implementation

### A. Modal Component using Portal

**src/components/Modal.jsx**

```jsx
// Modal.jsx
// Demonstrates React Portal usage.

import ReactDOM from "react-dom";

function Modal({ onClose }) {
  return ReactDOM.createPortal(
    <div style={{
      position: "fixed",
      top: "0",
      left: "0",
      width: "100%",
      height: "100%",
      backgroundColor: "rgba(0,0,0,0.5)",
      display: "flex",
      justifyContent: "center",
      alignItems: "center"
    }}>
      <div style={{
        backgroundColor: "white",
        padding: "20px",
        borderRadius: "5px"
      }}>
        <h3>Portal Modal</h3>
        <p>This modal is rendered outside the root div.</p>
        <button onClick={onClose}>Close</button>
      </div>
    </div>,
    document.getElementById("modal-root")
  );
}

export default Modal;
```

---

### B. Parent Component Using Modal

**src/App.jsx**

```jsx
import { useState } from "react";
import Modal from "./components/Modal";

function App() {

  const [showModal, setShowModal] = useState(false);

  return (
    <div>
      <h1>React Portal Concept</h1>

      <button onClick={() => setShowModal(true)}>
        Open Modal
      </button>

      {showModal && (
        <Modal onClose={() => setShowModal(false)} />
      )}
    </div>
  );
}

export default App;
```

---

## 7. How Portal Works Internally

Normal flow:

```
Component → root div → Screen
```

Portal flow:

```
Component → modal-root div → Screen
```

Visual structure:

```
<body>
  <div id="root"></div>          → Main App UI
  <div id="modal-root"></div>   → Modal UI via Portal
</body>
```

React still controls modal, but DOM placement is different.

---

## 8. Output Behaviour

1. Click "Open Modal"
2. Fullscreen overlay appears
3. Modal appears above everything
4. Close button hides it

UI is NOT restricted by parent layout.

---

## 9. Why Portal Is Important

| Problem           | Portal Solution      |
| ----------------- | -------------------- |
| Overflow issues   | Independent DOM node |
| Z-index conflicts | Always on top        |
| Layout breaking   | Detached rendering   |
| Hidden popups     | Free positioning     |

---

## 10. Common Use Cases

* Modals
* Notifications
* Dialog Boxes
* Tooltips
* Floating menus

---

## 11. Summary

| Concept  | Explanation                         |
| -------- | ----------------------------------- |
| Portal   | Render component outside parent DOM |
| Used For | Modals and overlays                 |
| Function | ReactDOM.createPortal()             |
| Benefit  | Layout independence                 |

---
