# 10.2 WHY COMPONENTS RE-RENDER?

(Understanding this makes you a real React engineer)

We will go **slow**, crystal clear, with **concept + diagrams + components**.

---

# React re-renders ONLY for 4 reasons

React DOES NOT randomly re-render.
There are exactly **4 triggers**.

We will understand each one deeply and build components for each.

---

# RE-RENDER TRIGGER #1 — STATE CHANGE

If a component’s **state** changes, React re-renders that component.

```
setState → React re-runs the component → UI updates
```

### Example:

```jsx
setCount(count + 1);
```

This always causes a re-render.

---

# Create Component: Render2_State.jsx

**Goal:** Show that changing state forces re-render.

```
src/components/10.RenderingDeepDive/Render2_State.jsx
```

```jsx
import { useState } from "react";

function Render2_State() {

  const [count, setCount] = useState(0);

  console.log("Render2_State: Component rendered");

  return (
    <div>
      <h3>Render 2: State Change Re-render</h3>

      <p>Count: {count}</p>

      <button onClick={() => setCount(count + 1)}>
        Increase
      </button>
    </div>
  );
}

export default Render2_State;
```

### What happens?

* Page loads → renders once
* Click → state changes → renders again

Console will show:

```
Render2_State: Component rendered
Render2_State: Component rendered
Render2_State: Component rendered
...
```

Every click = new render.

---

# RE-RENDER TRIGGER #2 — PARENT RE-RENDER

If a parent re-renders,
→ ALL children re-render (even if child's props didn’t change)

This is one reason React apps become slow if not optimized.

---

# Create Components:

### 1. Parent Component: Render3_Parent.jsx

### 2. Child Component: Render3_Child.jsx

---

### Render3_Child.jsx

```
src/components/10.RenderingDeepDive/Render3_Child.jsx
```

```jsx
function Render3_Child() {
  console.log("%cChild Rendered", "color: green");

  return <p>Child Component</p>;
}

export default Render3_Child;
```

---

### Render3_Parent.jsx

```
src/components/10.RenderingDeepDive/Render3_Parent.jsx
```

```jsx
import { useState } from "react";
import Render3_Child from "./Render3_Child";

function Render3_Parent() {

  const [count, setCount] = useState(0);

  console.log("%cParent Rendered", "color: blue");

  return (
    <div>
      <h3>Render 3: Parent → Child Re-render</h3>

      <p>Parent Count: {count}</p>

      <button onClick={() => setCount(count + 1)}>
        Increase Parent Count
      </button>

      <Render3_Child />
    </div>
  );
}

export default Render3_Parent;
```

---

### What happens?

Click button →
Parent re-renders →
Child ALSO re-renders

Even though child has **NO props**, React re-runs it.

Console shows:

```
Parent Rendered
Child Rendered

Parent Rendered
Child Rendered

Parent Rendered
Child Rendered
```

This is default React behaviour.

We will learn how to stop this later using:

* React.memo
* useCallback

---

# RE-RENDER TRIGGER #3 — PROPS CHANGE

If a component receives new props, it MUST re-render.

```
New props → re-render → update UI
```

Even if the prop changed from:

```
value: 1 → 1.0001
```

React renders again.

We will cover this in the next topic when we do optimization.

---

# RE-RENDER TRIGGER #4 — CONTEXT VALUE CHANGE

If a Context Provider value changes:

* All components using useContext re-render

This is why context can cause **hidden performance issues**.

We’ll demonstrate this later with:

* Render_ContextParent.jsx
* Render_ContextChild.jsx

---

# VERY IMPORTANT SUMMARY

React re-renders for ONLY 4 reasons:

| Trigger    | Explanation                              |
| ---------- | ---------------------------------------- |
| 1. State   | setState causes re-render                |
| 2. Parent  | Parent re-render → child re-render       |
| 3. Props   | New props cause re-render                |
| 4. Context | Context Provider change causes re-render |

NO OTHER REASON can cause re-render.

---

# Add to App.jsx to test

```jsx
import Render2_State from "./components/10.RenderingDeepDive/Render2_State";
import Render3_Parent from "./components/10.RenderingDeepDive/Render3_Parent";

function App() {
  return (
    <div>
      <Render2_State />
      <hr />
      <Render3_Parent />
    </div>
  );
}

export default App;
```

---

# What you learned (Very Important)

* React re-runs component functions based on triggers
* Parent → child re-render is natural behaviour
* Understanding this avoids performance mistakes
* You can now predict React's behaviour

This is the foundation for:

* useMemo
* useCallback
* React.memo
* Performance tuning
* Large-scale apps

---
