
# 14.3 SHARED COMPONENTS LAYER

This is one of the most important parts of any scalable React project.

Shared components form your **UI building blocks**.

Letâ€™s go deep and clear.

---

# 1. What Are Shared Components?

Shared components are **reusable UI elements** used across multiple pages and features.

Examples:

* Button
* Input
* Select dropdown
* Modal
* Card
* Navbar
* Avatar
* Loader
* Table
* Tabs
* Tooltip

These components must:

* Be reusable
* Not contain business logic
* Be easy to style
* Accept props to handle different variations
* Not depend on specific page data

They serve as **foundation UI elements**.

---

# 2. Folder Structure for Shared Components

Recommended:

```
src/components/
    Button.jsx
    Input.jsx
    Card.jsx
    Modal.jsx
    Loader.jsx
    Navbar.jsx
```

If the project grows:

```
src/components/
    ui/
        Button.jsx
        Input.jsx
        Card.jsx
        Modal.jsx
        Spinner.jsx
        Avatar.jsx
```

Or for very large apps:

```
src/components/
    ui/
    layouts/
    charts/
    tables/
```

But for now we use the simple model.

---

# 3. Principles of a Good Shared Component

A good shared component:

1. Accepts props to control behavior
2. Should NOT include API calls
3. Should NOT include routing logic
4. Should NOT include feature-specific code
5. Should NOT maintain heavy state inside
6. Should be isolated and pure UI-focused

---

# 4. Example: Reusable Button

File: `Button.jsx`

```jsx
export default function Button({ children, onClick, variant = "primary" }) {
  const styles = {
    primary: { background: "blue", color: "white" },
    outline: { border: "1px solid black", background: "white" },
    danger: { background: "red", color: "white" }
  };

  return (
    <button onClick={onClick} style={styles[variant]}>
      {children}
    </button>
  );
}
```

Now you can use:

```jsx
<Button>Save</Button>
<Button variant="outline">Cancel</Button>
<Button variant="danger">Delete</Button>
```

One component, many usages.

---

# 5. Example: Reusable Card

File: `Card.jsx`

```jsx
export default function Card({ children }) {
  const style = {
    border: "1px solid #ddd",
    padding: "16px",
    borderRadius: "8px",
    margin: "8px 0"
  };

  return <div style={style}>{children}</div>;
}
```

Use it like:

```jsx
<Card>
  <h3>Product Name</h3>
  <p>Price: $20</p>
</Card>
```

The Card does not know what content it holds.
That makes it reusable.

---

# 6. Example: Modal Component

File: `Modal.jsx`

```jsx
export default function Modal({ open, onClose, children }) {
  if (!open) return null;

  return (
    <div style={{
      position: "fixed", top: 0, left: 0,
      width: "100%", height: "100%",
      background: "rgba(0,0,0,0.5)"
    }}>
      <div style={{
        background: "white",
        padding: "20px",
        margin: "100px auto",
        width: "400px",
        borderRadius: "8px"
      }}>
        {children}
        <button onClick={onClose}>Close</button>
      </div>
    </div>
  );
}
```

Use it like:

```jsx
<Modal open={modalOpen} onClose={() => setModalOpen(false)}>
  <h2>Delete Product?</h2>
  <p>This action cannot be undone.</p>
</Modal>
```

Modal is not tied to any specific page.
It can be used anywhere.

---

# 7. Shared Navbar Component

File: `Navbar.jsx`

```jsx
import { Link } from "react-router-dom";

export default function Navbar() {
  return (
    <nav style={{ padding: "12px", borderBottom: "1px solid #ddd" }}>
      <Link to="/">Home</Link> |
      <Link to="/products">Products</Link> |
      <Link to="/cart">Cart</Link>
    </nav>
  );
}
```

Pages:

* HomePage
* ProductPage
* CartPage

All use this Navbar.

---

# 8. Why Shared Components Improve Architecture

Benefits:

1. Avoid code duplication
2. Fast development
3. Consistent UI
4. Easier maintenance
5. Scalable across features

Example:

If you update Button.jsx, entire app UI updates instantly.

---

# 9. Anti-Patterns (What NOT to do)

Avoid these:

### A) Putting business logic in shared components

Wrong:

```
Button.jsx calling API
Card.jsx calling fetch
Modal.jsx managing product state
```

Components should not know application details.

### B) Using shared components only inside one feature

Then they are not really shared.

### C) Creating too many small useless components

A component should be meaningful.

---

# 10. Summary

Shared components are:

* Reusable
* Stateless or minimally stateful
* Pure UI
* Controlled by props
* Used across pages
* Foundation of your design system

This is essential for clean React app architecture.

---