# 12.1 CONTROLLED COMPONENTS

This is the core foundation of forms in React.
---

# 1. What are Controlled Components?

A controlled component is an input whose **value is controlled by React state**.

Meaning:

* UI → State → UI
* Input value comes from state
* Changes update state
* State updates UI

This gives full control to React.

Example mental flow:

User types "a" → onChange updates state → component re-renders → input displays "a".

---

# 2. Why do we need controlled components?

Benefits:

1. You always know the current value
2. Can validate input in real-time
3. Can disable/enable buttons based on input
4. Can manipulate values programmatically
5. Can clear input easily
6. Required for complex forms

Real-world forms like login, signup, OTP, checkout all use controlled components.

---

# 3. The Basic Controlled Input

Create file:

`ControlledInput.jsx`

```jsx
import { useState } from "react";

export default function ControlledInput() {
  const [value, setValue] = useState("");

  return (
    <div>
      <h3>Controlled Input</h3>

      <input
        value={value}
        onChange={e => setValue(e.target.value)}
        placeholder="Type something"
      />

      <p>Value: {value}</p>
    </div>
  );
}
```

Key point:

```jsx
value={value}
onChange={...}
```

This makes it **controlled by React**.

---

# 4. Example: Controlled Form (Name + Email)

`ControlledForm.jsx`

```jsx
import { useState } from "react";

export default function ControlledForm() {
  const [form, setForm] = useState({
    name: "",
    email: ""
  });

  const handleChange = (e) => {
    setForm({
      ...form,
      [e.target.name]: e.target.value
    });
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    console.log("Submitted:", form);
  };

  return (
    <form onSubmit={handleSubmit}>
      <h3>Controlled Form</h3>

      <input
        name="name"
        placeholder="Name"
        value={form.name}
        onChange={handleChange}
      />

      <input
        name="email"
        placeholder="Email"
        value={form.email}
        onChange={handleChange}
      />

      <button type="submit">Submit</button>
    </form>
  );
}
```

This pattern is used in:

* Signup forms
* Checkout forms
* Address forms
* Admin forms

---

# 5. Key Problems Beginners Face

### A) Why does typing feel laggy sometimes?

Because too many re-renders or heavy logic inside state updates.

We will handle this later via:

* Debouncing
* useMemo
* useCallback
* React Hook Form

### B) Why the input doesn't update?

Because value is controlled but you forgot onChange.

Example mistake:

```jsx
<input value={name} />
```

React blocks typing because value never changes.

---

# 6. Controlled Components Advantages

* Full control over data
* Can restrict input (like numbers only)
* Can run validation on each keystroke
* Can build dynamic forms
* Can auto-format input
* Can show/hide fields based on values

---

# 7. Controlled Components Disadvantages

* Too many re-renders for large/complex forms
* Harder to manage hundreds of inputs
* Boilerplate code (lots of handleChange)
* Performance drops if validation is heavy

This is why uncontrolled components and React Hook Form exist.

But controlled components are the foundation.

---

# 8. Summary of Controlled Components

Controlled component:

* Stores value in React state
* Updates state via onChange
* UI always reflects state
* Ideal for simple to medium forms
* Allows fine-grained control

You must master controlled components before learning:

* Uncontrolled components
* Validation
* React Hook Form

---
