# Basics Doubts
---

## ⁉️ Why did we use `unordered_map` instead of `map` in all previous hashing problems?

---

## 1. Concept

Both `map` and `unordered_map` store data in the form:

```
key -> value
```

But the **internal working is DIFFERENT**.

| Structure     | Internal Structure | Order         | Access Time  |
| ------------- | ------------------ | ------------- | ------------ |
| map           | Red-Black Tree     | Sorted by key | O(log N)     |
| unordered_map | Hash Table         | No order      | O(1) average |

---

## 2. Intuition (DSA Mindset)

Ask yourself:

> Do I care about the order of elements?

In all our hashing problems:

* We only needed counts
* Order of keys was irrelevant

So logically the faster structure should be preferred:

```
unordered_map ✅
```

Because:

```
unordered_map → faster lookups
map → sorted but slower
```

---

## 3. Why unordered_map is DEFAULT choice

For frequency problems, the main goal is:

* Fast insertion
* Fast retrieval

So:

```
unordered_map:
Insertion = O(1)
Search = O(1)

map:
Insertion = O(log N)
Search = O(log N)
```

So if N = 1,00,000
logN ≈ 17
That means map is doing 17 operations vs unordered_map doing 1.

---

## 4. When should you USE map instead?

Use `map` ONLY when:

### Case 1: You want sorted output

Example:

```
Input:  5 2 3 1 4
Output: 1 2 3 4 5
```

This happens automatically in `map` but NOT in `unordered_map`.

### Case 2: You want elements printed in increasing order

```cpp
map<int,int> freq;
```

will always give ordered keys.

---

## 5. Visual Difference

### Using unordered_map

```
{2:3, 5:1, 1:2}
```

Random order.

### Using map

```
1:2  
2:3  
5:1
```

Always sorted.

---

## 6. Practical Rule (INTERVIEW RULE)

You should follow this mental flow:

```
Do I need sorted output?
    Yes -> use map
    No  -> use unordered_map (FASTER)
```

So in our problems:

* Highest frequency ✅
* Lowest frequency ✅
* First non repeating ✅

Sorting was never required, so:

```
unordered_map = correct choice
```

---

## 7. Real Example Comparison

### unordered_map version (FAST)

```cpp
unordered_map<int,int> freq;
freq[x]++;
```

### map version (ORDERED but slower)

```cpp
map<int,int> freq;
freq[x]++;
```

Both are correct, but performance differs.

---

## 8. Edge Case (Rare but important)

unordered_map worst case can become O(N) due to hash collision
But this happens extremely rarely.

So interview logic:

```
Use unordered_map first.
If TLE happens → shift to map.
```

---

## 9. Summary

| Situation               | Use             |
| ----------------------- | --------------- |
| Just counting frequency | unordered_map ✅ |
| Order matters           | map ✅           |
| Performance priority    | unordered_map ✅ |
| Sorted requirement      | map ✅           |

---