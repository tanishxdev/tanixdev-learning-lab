# JavaScript Conditional Flow

Covers: `if-else`, `else-if ladder`, `ternary`, `switch`, best practices, performance, gotchas & modern patterns

---

### 1. The 4 Ways to Write Conditional Logic in JS

| Method             | Best For                                | Readability | Performance | Can Return Value? |
|--------------------|-----------------------------------------|-------------|-------------|-------------------|
| `if / else`        | Complex logic, multiple statements      | High        | Medium      | No (need assignment) |
| `else if` ladder   | Multiple exclusive conditions           | High        | Medium      | No                |
| `ternary ? :`      | Simple one-liner value assignment       | Medium      | Fast        | Yes               |
| `switch`           | Many exact value matches (strings/numbers) | High     | Very Fast   | Yes (with care)   |

---

### 2. if, else, else-if – Complete Deep Dive

```js
// Basic if
if (score >= 90) {
  grade = 'A+';
}

// if-else
if (user.isAdmin) {
  showAdminPanel();
} else {
  showUserDashboard();
}

// else-if ladder (most common in real apps)
let temperature = 25;

if (temperature < 0) {
  console.log("Freezing!");
} else if (temperature < 10) {
  console.log("Very Cold");
} else if (temperature < 20) {
  console.log("Cool");
} else if (temperature < 30) {
  console.log("Warm");        // ← This runs
} else {
  console.log("Hot!");
}
```

**Real-World Example: Role-Based Access**
```js
function getPermissions(role) {
  if (role === 'superadmin') {
    return ['everything'];
  } else if (role === 'admin') {
    return ['users:read', 'users:write', 'posts:manage'];
  } else if (role === 'moderator') {
    return ['posts:delete', 'comments:moderate'];
  } else if (role === 'user') {
    return ['profile:edit', 'posts:create'];
  } else {
    return []; // guest
  }
}
```

---

### 3. Ternary Operator – The King of One-Liners

**Syntax:**
```js
condition ? valueIfTrue : valueIfFalse
```

#### Perfect Use Cases

```js
// 1. Assigning variables
const status = isLoggedIn ? 'Logout' : 'Login';

// 2. Inline JSX (React)
<div className={isActive ? 'btn active' : 'btn'}>

// 3. Return from function
function getFee(isMember) {
  return isMember ? '$2.00' : '$10.00';
}

// 4. Nested ternary (use sparingly!)
const message = score > 90 ? 'Excellent' :
                score > 70 ? 'Good' :
                score > 50 ? 'Average' : 'Needs Improvement';
```

**Danger: Deeply nested ternary = unreadable**
```js
// AVOID THIS
const result = a ? b ? c ? d : e : f : g ? h : i;

// DO THIS instead
if (a) {
  if (b) return c ? d : e;
  return f;
}
return g ? h : i;
```

**Modern Alternative: Object Lookup (Best for many conditions)**
```js
const grades = {
  90: 'A', 80: 'B', 70: 'C', 60: 'D'
};
const grade = grades[Math.floor(score / 10) * 10] || 'F';
```

---

### 4. switch Statement – When & How to Use It Properly

```js
switch (expression) {
  case value1:
    // code
    break;           // ← FORGETTING THIS IS #1 BUG!
  case value2:
    // code
    break;
  default:
    // fallback
}
```

#### Real-World Example: HTTP Status Handler
```js
function handleResponse(status) {
  switch (status) {
    case 200:
      console.log('Success');
      break;
    case 201:
      console.log('Created');
      break;
    case 400:
      console.log('Bad Request');
      break;
    case 401:
      console.log('Unauthorized');
      redirectToLogin();
      break;
    case 404:
      console.log('Not Found');
      break;
    case 500:
    case 502:
    case 503:
      console.log('Server Error');  // Multiple cases → same block
      break;
    default:
      console.log('Unknown status:', status);
  }
}
```

#### Fall-Through Technique (Intentional!)
```js
switch (day) {
  case 6:   // Saturday
  case 0:   // Sunday
    type = 'weekend';
    break;
  case 1:   // Monday
  case 2:
  case 3:
  case 4:
  case 5:
    type = 'weekday';
    break;
}
```

**Never forget `break` unless you want fall-through!**

---

### 5. Performance Comparison (Real Numbers)

| Number of Conditions | if-else | switch | Object Lookup |
|----------------------|--------|--------|----------------|
| 5                    | Fast   | Fast   | Fastest        |
| 20                   | Slow   | Fast   | Fastest        |
| 100                  | Very Slow | Fast | Lightning Fast |

**Winner for many exact matches → Object/Map**

```js
// Lightning fast O(1) lookup
const actions = {
  login: loginUser,
  logout: logoutUser,
  delete: deletePost,
  edit: editPost
};

const handler = actions[actionType];
if (handler) handler();
else console.log('Unknown action');
```

---

### 6. Best Practices & Pro Patterns (2025 Standards)

| Scenario                        | Recommended Pattern                                 |
|--------------------------------|-----------------------------------------------------|
| Simple true/false              | Ternary                                             |
| 3–6 mutually exclusive values  | `if-else` or `switch`                               |
| 7+ exact string/number matches | `switch` or Object/Map lookup                       |
| Range checks (>, <, >=)        | `if-else` only                                      |
| Role/permission checks         | Object + includes()                                 |
| React/JSX conditional render  | Ternary + && + early returns                        |

#### Pro Example: Clean User Greeting
```js
function Greeting({ user, time }) {
  if (!user) return <LoginPrompt />;

  const hour = new Date(time).getHours();
  const period = hour < 12 ? 'morning' :
                 hour < 18 ? 'afternoon' : 'evening';

  const prefix = user.isVIP ? 'Dear' : 'Hello';

  return <h1>{prefix} {user.name}, good {period}!</h1>;
}
```

#### Ultimate Clean Pattern: Early Returns
```js
function processOrder(order) {
  if (!order) return { error: 'No order' };
  if (order.status === 'cancelled') return { error: 'Cancelled' };
  if (order.items.length === 0) return { error: 'Empty' };

  // Main logic here...
  return { success: true, total: calculateTotal(order) };
}
```

---

### 7. Summary Table – When to Use What?

| Use Case                          | Use This         | Example |
|----------------------------------|------------------|--------|
| Assign value based on condition  | Ternary          | `const msg = ok ? 'Yes' : 'No'` |
| Complex logic / side effects     | `if-else`        | API calls, DOM updates |
| Many exact values                | `switch`         | HTTP codes, days |
| 10+ string actions               | Object/Map       | Routing, commands |
| Range checks                     | `if-else` only   | age > 18 && age < 65 |
| React conditional rendering      | `&&`, `?:`, early return | `{user && <Profile/>}` |

---

**Final Pro Tip (Interview Answer):**

> "In modern JavaScript, we avoid long if-else chains and switch statements when possible. For simple conditions → ternary. For many exact matches → object lookup (fastest). For ranges or complex logic → clean if-else with early returns. And never nest more than 2 levels deep — extract to functions!"