# 02. Variables and Data Types

### 1. What is a Variable?
A variable is a **named box** in computer memory where you can store a value and later change or read it.

```js
let age = 25;        // box named "age" contains 25
age = 26;            // we changed the content of the same box
```

Think of it like a labelled sticky note on a jar – the label (variable name) stays, the content can change.

### 2. Why do we need variables?
- To store data (user name, score, API response, etc.)
- To reuse values without hard-coding
- To make code readable and maintainable

### 3. How JavaScript creates variables internally? (Behind the scenes)
JavaScript has 3 ways to declare a variable:

| Keyword | Scope          | Hoisted? | Can redeclare? | Can reassign? | Initial value |
|---------|----------------|----------|----------------|---------------|---------------|
| `var`   | Function/Global| Yes      | Yes            | Yes           | `undefined`   |
| `let`   | Block          | Yes*     | No             | Yes           | TDZ (error)   |
| `const` | Block          | Yes*     | No             | No**          | TDZ (error)   |

*Hoisted but in Temporal Dead Zone (TDZ) until the line is executed  
**Reference can't change, but object/array content can mutate

### 4. All Possible Syntax (Complete List)

```js
// 1. var – old way (avoid in modern JS)
var name = "John";
var age;                // declaration only → undefined

// 2. let – mutable value, block scoped
let score = 100;
let lives = 3;

// 3. const – immutable binding, block scoped
const PI = 3.14159;
const BIRTH_YEAR = 1995;

// 4. Multiple declaration
let x = 10, y = 20;
const API_URL = "https://api.example.com", TOKEN = "abc123";

// 5. No keyword → creates global (very bad!)
bad = 999;   // same as window.bad = 999 in browser
```

### 5. Deep Examples + Step-by-Step Dry Run

#### Example 1 – Scope & Hoisting (THE MOST IMPORTANT)

```js
console.log(a);    // undefined   ← hoisted + initialized as undefined
var a = 5;

console.log(b);    // ReferenceError: Cannot access 'b' before initialization
let b = 10;

console.log(c);    // ReferenceError
const c = 15;
```

**Behind the scenes (what engine actually does):**

```js
var a;             // hoisted → a = undefined
console.log(a);    // undefined
a = 5;

let b;             // hoisted but in TDZ
const c;           // hoisted but in TDZ
console.log(b);    // ← crash! TDZ
b = 10;
c = 15;
```

#### Example 2 – Block Scope (let/const vs var)

```js
if (true) {
    var x = 100;      // function scoped → leaks out
    let y = 200;      // block scoped → trapped inside
    const z = 300;
}
console.log(x);       // 100  ← oh no!
console.log(y);       // ReferenceError
console.log(z);       // ReferenceError
```

#### Example 3 – Famous Loop Problem (var vs let)

```js
// Using var → WRONG result
for (var i = 0; i < 3; i++) {
    setTimeout(() => console.log(i), 1000);
}
// Output: 3  3  3   ← because var is function scoped

// Using let → CORRECT
for (let i = 0; i < 3; i++) {
    setTimeout(() => console.log(i), 1000);
}
// Output: 0  1  2   ← each iteration has its own i
```

### 6. Real-life Use Cases

| Use Case                        | Recommended keyword | Why |
|--------------------------------|---------------------|-----|
| Loop counters                   | `let`               | Block scope needed |
| Constants (API URLs, config)    | `const`             | Never reassign |
| Flags that change               | `let`               | Mutable |
| Temporary variables             | `let`               | Safe |
| Old libraries / legacy code     | `var`               | Only if you have to |

### 7. Pros, Cons & Common Mistakes

| Keyword | Pros                                 | Cons / Pitfalls                                 |
|--------|--------------------------------------|--------------------------------------------------|
| `var`  | Hoisted, works everywhere            | Function scoped → bugs, redeclaration allowed   |
| `let`  | Block scoped, no redeclaration       | TDZ can surprise beginners                      |
| `const`| Block scoped, prevents reassignment  | People think objects are frozen → they are NOT! |

**Most common mistake with const:**

```js
const user = { name: "Raj" };
user.name = "Rohan";     // Allowed! ← only the reference is constant
user = { name: "Ram" };  // TypeError ← cannot reassign reference
```

### 8. Interview Questions (Tricky ones)

1. What will be the output?

```js
console.log(x);
var x = 10;
let y = 20;
console.log(y);
```

2. Why does this print 3 three times?

```js
for (var i = 0; i < 3; i++) {
    setTimeout(() => console.log(i), 0);
}
```

3. How to fix the above loop using `var` only?  
   → Use IIFE:

```js
for (var i = 0; i < 3; i++) {
    (function(i) {
        setTimeout(() => console.log(i), 0);
    })(i);
}
```

### 9. Mini Practice Tasks (You MUST solve these now)

1. Write code that throws TDZ error and then fix it.
2. Create a const array, push 3 items → prove content can change.
3. Create a const object, change a property → prove it's allowed.
4. Write a loop with `var` that prints 0,1,2 using only IIFE (no let).

### 10. Bonus: One Advanced Thing – Variable Environment Diagram

```
Global Execution Context
└─ Variable Environment
   ├── var a = undefined → 5
   ├── let b → TDZ → 10
   └── const c → TDZ → 15
```

### Final Rule You Must Remember Forever

> **In modern JavaScript (ES6+):**
> - Default to `const`
> - Use `let` only when you need to reassign
> - Never use `var` again (unless fixing legacy code)

---